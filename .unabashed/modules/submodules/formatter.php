#!/usr/bin/php
<?php

if (!$argv || count($argv) == 1)
{
    echo "";
    exit;
}

class cliColorizer
{
    protected static $foregroundColors  =   [
                                                'black'   => ['set' => 30, 'unset' => 39],
                                                'red'     => ['set' => 31, 'unset' => 39],
                                                'green'   => ['set' => 32, 'unset' => 39],
                                                'yellow'  => ['set' => 33, 'unset' => 39],
                                                'blue'    => ['set' => 34, 'unset' => 39],
                                                'magenta' => ['set' => 35, 'unset' => 39],
                                                'cyan'    => ['set' => 36, 'unset' => 39],
                                                'white'   => ['set' => 37, 'unset' => 39],

                                                'c_0'     => ['set' => '38;5;0', 'unset' => 39],
                                                'c_1'     => ['set' => '38;5;1', 'unset' => 39],
                                                'c_2'     => ['set' => '38;5;2', 'unset' => 39],
                                                'c_3'     => ['set' => '38;5;3', 'unset' => 39],
                                                'c_4'     => ['set' => '38;5;4', 'unset' => 39],
                                                'c_5'     => ['set' => '38;5;5', 'unset' => 39],
                                                'c_6'     => ['set' => '38;5;6', 'unset' => 39],
                                                'c_7'     => ['set' => '38;5;7', 'unset' => 39],
                                                'c_8'     => ['set' => '38;5;8', 'unset' => 39],
                                                'c_9'     => ['set' => '38;5;9', 'unset' => 39],
                                                'c_10'    => ['set' => '38;5;10', 'unset' => 39],
                                                'c_11'    => ['set' => '38;5;11', 'unset' => 39],
                                                'c_12'    => ['set' => '38;5;12', 'unset' => 39],
                                                'c_13'    => ['set' => '38;5;13', 'unset' => 39],
                                                'c_14'    => ['set' => '38;5;14', 'unset' => 39],
                                                'c_15'    => ['set' => '38;5;15', 'unset' => 39],
                                                'c_16'    => ['set' => '38;5;16', 'unset' => 39],
                                                'c_17'    => ['set' => '38;5;17', 'unset' => 39],
                                                'c_18'    => ['set' => '38;5;18', 'unset' => 39],
                                                'c_19'    => ['set' => '38;5;19', 'unset' => 39],
                                                'c_20'    => ['set' => '38;5;20', 'unset' => 39],
                                                'c_21'    => ['set' => '38;5;21', 'unset' => 39],
                                                'c_22'    => ['set' => '38;5;22', 'unset' => 39],
                                                'c_23'    => ['set' => '38;5;23', 'unset' => 39],
                                                'c_24'    => ['set' => '38;5;24', 'unset' => 39],
                                                'c_25'    => ['set' => '38;5;25', 'unset' => 39],
                                                'c_26'    => ['set' => '38;5;26', 'unset' => 39],
                                                'c_27'    => ['set' => '38;5;27', 'unset' => 39],
                                                'c_28'    => ['set' => '38;5;28', 'unset' => 39],
                                                'c_29'    => ['set' => '38;5;29', 'unset' => 39],
                                                'c_30'    => ['set' => '38;5;30', 'unset' => 39],
                                                'c_31'    => ['set' => '38;5;31', 'unset' => 39],
                                                'c_32'    => ['set' => '38;5;32', 'unset' => 39],
                                                'c_33'    => ['set' => '38;5;33', 'unset' => 39],
                                                'c_34'    => ['set' => '38;5;34', 'unset' => 39],
                                                'c_35'    => ['set' => '38;5;35', 'unset' => 39],
                                                'c_36'    => ['set' => '38;5;36', 'unset' => 39],
                                                'c_37'    => ['set' => '38;5;37', 'unset' => 39],
                                                'c_38'    => ['set' => '38;5;38', 'unset' => 39],
                                                'c_39'    => ['set' => '38;5;39', 'unset' => 39],
                                                'c_40'    => ['set' => '38;5;40', 'unset' => 39],
                                                'c_41'    => ['set' => '38;5;41', 'unset' => 39],
                                                'c_42'    => ['set' => '38;5;42', 'unset' => 39],
                                                'c_43'    => ['set' => '38;5;43', 'unset' => 39],
                                                'c_44'    => ['set' => '38;5;44', 'unset' => 39],
                                                'c_45'    => ['set' => '38;5;45', 'unset' => 39],
                                                'c_46'    => ['set' => '38;5;46', 'unset' => 39],
                                                'c_47'    => ['set' => '38;5;47', 'unset' => 39],
                                                'c_48'    => ['set' => '38;5;48', 'unset' => 39],
                                                'c_49'    => ['set' => '38;5;49', 'unset' => 39],
                                                'c_50'    => ['set' => '38;5;50', 'unset' => 39],
                                                'c_51'    => ['set' => '38;5;51', 'unset' => 39],
                                                'c_52'    => ['set' => '38;5;52', 'unset' => 39],
                                                'c_53'    => ['set' => '38;5;53', 'unset' => 39],
                                                'c_54'    => ['set' => '38;5;54', 'unset' => 39],
                                                'c_55'    => ['set' => '38;5;55', 'unset' => 39],
                                                'c_56'    => ['set' => '38;5;56', 'unset' => 39],
                                                'c_57'    => ['set' => '38;5;57', 'unset' => 39],
                                                'c_58'    => ['set' => '38;5;58', 'unset' => 39],
                                                'c_59'    => ['set' => '38;5;59', 'unset' => 39],
                                                'c_60'    => ['set' => '38;5;60', 'unset' => 39],
                                                'c_61'    => ['set' => '38;5;61', 'unset' => 39],
                                                'c_62'    => ['set' => '38;5;62', 'unset' => 39],
                                                'c_63'    => ['set' => '38;5;63', 'unset' => 39],
                                                'c_64'    => ['set' => '38;5;64', 'unset' => 39],
                                                'c_65'    => ['set' => '38;5;65', 'unset' => 39],
                                                'c_66'    => ['set' => '38;5;66', 'unset' => 39],
                                                'c_67'    => ['set' => '38;5;67', 'unset' => 39],
                                                'c_68'    => ['set' => '38;5;68', 'unset' => 39],
                                                'c_69'    => ['set' => '38;5;69', 'unset' => 39],
                                                'c_70'    => ['set' => '38;5;70', 'unset' => 39],
                                                'c_71'    => ['set' => '38;5;71', 'unset' => 39],
                                                'c_72'    => ['set' => '38;5;72', 'unset' => 39],
                                                'c_73'    => ['set' => '38;5;73', 'unset' => 39],
                                                'c_74'    => ['set' => '38;5;74', 'unset' => 39],
                                                'c_75'    => ['set' => '38;5;75', 'unset' => 39],
                                                'c_76'    => ['set' => '38;5;76', 'unset' => 39],
                                                'c_77'    => ['set' => '38;5;77', 'unset' => 39],
                                                'c_78'    => ['set' => '38;5;78', 'unset' => 39],
                                                'c_79'    => ['set' => '38;5;79', 'unset' => 39],
                                                'c_80'    => ['set' => '38;5;80', 'unset' => 39],
                                                'c_81'    => ['set' => '38;5;81', 'unset' => 39],
                                                'c_82'    => ['set' => '38;5;82', 'unset' => 39],
                                                'c_83'    => ['set' => '38;5;83', 'unset' => 39],
                                                'c_84'    => ['set' => '38;5;84', 'unset' => 39],
                                                'c_85'    => ['set' => '38;5;85', 'unset' => 39],
                                                'c_86'    => ['set' => '38;5;86', 'unset' => 39],
                                                'c_87'    => ['set' => '38;5;87', 'unset' => 39],
                                                'c_88'    => ['set' => '38;5;88', 'unset' => 39],
                                                'c_89'    => ['set' => '38;5;89', 'unset' => 39],
                                                'c_90'    => ['set' => '38;5;90', 'unset' => 39],
                                                'c_91'    => ['set' => '38;5;91', 'unset' => 39],
                                                'c_92'    => ['set' => '38;5;92', 'unset' => 39],
                                                'c_93'    => ['set' => '38;5;93', 'unset' => 39],
                                                'c_94'    => ['set' => '38;5;94', 'unset' => 39],
                                                'c_95'    => ['set' => '38;5;95', 'unset' => 39],
                                                'c_96'    => ['set' => '38;5;96', 'unset' => 39],
                                                'c_97'    => ['set' => '38;5;97', 'unset' => 39],
                                                'c_98'    => ['set' => '38;5;98', 'unset' => 39],
                                                'c_99'    => ['set' => '38;5;99', 'unset' => 39],
                                                'c_100'   => ['set' => '38;5;100', 'unset' => 39],
                                                'c_101'   => ['set' => '38;5;101', 'unset' => 39],
                                                'c_102'   => ['set' => '38;5;102', 'unset' => 39],
                                                'c_103'   => ['set' => '38;5;103', 'unset' => 39],
                                                'c_104'   => ['set' => '38;5;104', 'unset' => 39],
                                                'c_105'   => ['set' => '38;5;105', 'unset' => 39],
                                                'c_106'   => ['set' => '38;5;106', 'unset' => 39],
                                                'c_107'   => ['set' => '38;5;107', 'unset' => 39],
                                                'c_108'   => ['set' => '38;5;108', 'unset' => 39],
                                                'c_109'   => ['set' => '38;5;109', 'unset' => 39],
                                                'c_110'   => ['set' => '38;5;110', 'unset' => 39],
                                                'c_111'   => ['set' => '38;5;111', 'unset' => 39],
                                                'c_112'   => ['set' => '38;5;112', 'unset' => 39],
                                                'c_113'   => ['set' => '38;5;113', 'unset' => 39],
                                                'c_114'   => ['set' => '38;5;114', 'unset' => 39],
                                                'c_115'   => ['set' => '38;5;115', 'unset' => 39],
                                                'c_116'   => ['set' => '38;5;116', 'unset' => 39],
                                                'c_117'   => ['set' => '38;5;117', 'unset' => 39],
                                                'c_118'   => ['set' => '38;5;118', 'unset' => 39],
                                                'c_119'   => ['set' => '38;5;119', 'unset' => 39],
                                                'c_120'   => ['set' => '38;5;120', 'unset' => 39],
                                                'c_121'   => ['set' => '38;5;121', 'unset' => 39],
                                                'c_122'   => ['set' => '38;5;122', 'unset' => 39],
                                                'c_123'   => ['set' => '38;5;123', 'unset' => 39],
                                                'c_124'   => ['set' => '38;5;124', 'unset' => 39],
                                                'c_125'   => ['set' => '38;5;125', 'unset' => 39],
                                                'c_126'   => ['set' => '38;5;126', 'unset' => 39],
                                                'c_127'   => ['set' => '38;5;127', 'unset' => 39],
                                                'c_128'   => ['set' => '38;5;128', 'unset' => 39],
                                                'c_129'   => ['set' => '38;5;129', 'unset' => 39],
                                                'c_130'   => ['set' => '38;5;130', 'unset' => 39],
                                                'c_131'   => ['set' => '38;5;131', 'unset' => 39],
                                                'c_132'   => ['set' => '38;5;132', 'unset' => 39],
                                                'c_133'   => ['set' => '38;5;133', 'unset' => 39],
                                                'c_134'   => ['set' => '38;5;134', 'unset' => 39],
                                                'c_135'   => ['set' => '38;5;135', 'unset' => 39],
                                                'c_136'   => ['set' => '38;5;136', 'unset' => 39],
                                                'c_137'   => ['set' => '38;5;137', 'unset' => 39],
                                                'c_138'   => ['set' => '38;5;138', 'unset' => 39],
                                                'c_139'   => ['set' => '38;5;139', 'unset' => 39],
                                                'c_140'   => ['set' => '38;5;140', 'unset' => 39],
                                                'c_141'   => ['set' => '38;5;141', 'unset' => 39],
                                                'c_142'   => ['set' => '38;5;142', 'unset' => 39],
                                                'c_143'   => ['set' => '38;5;143', 'unset' => 39],
                                                'c_144'   => ['set' => '38;5;144', 'unset' => 39],
                                                'c_145'   => ['set' => '38;5;145', 'unset' => 39],
                                                'c_146'   => ['set' => '38;5;146', 'unset' => 39],
                                                'c_147'   => ['set' => '38;5;147', 'unset' => 39],
                                                'c_148'   => ['set' => '38;5;148', 'unset' => 39],
                                                'c_149'   => ['set' => '38;5;149', 'unset' => 39],
                                                'c_150'   => ['set' => '38;5;150', 'unset' => 39],
                                                'c_151'   => ['set' => '38;5;151', 'unset' => 39],
                                                'c_152'   => ['set' => '38;5;152', 'unset' => 39],
                                                'c_153'   => ['set' => '38;5;153', 'unset' => 39],
                                                'c_154'   => ['set' => '38;5;154', 'unset' => 39],
                                                'c_155'   => ['set' => '38;5;155', 'unset' => 39],
                                                'c_156'   => ['set' => '38;5;156', 'unset' => 39],
                                                'c_157'   => ['set' => '38;5;157', 'unset' => 39],
                                                'c_158'   => ['set' => '38;5;158', 'unset' => 39],
                                                'c_159'   => ['set' => '38;5;159', 'unset' => 39],
                                                'c_160'   => ['set' => '38;5;160', 'unset' => 39],
                                                'c_161'   => ['set' => '38;5;161', 'unset' => 39],
                                                'c_162'   => ['set' => '38;5;162', 'unset' => 39],
                                                'c_163'   => ['set' => '38;5;163', 'unset' => 39],
                                                'c_164'   => ['set' => '38;5;164', 'unset' => 39],
                                                'c_165'   => ['set' => '38;5;165', 'unset' => 39],
                                                'c_166'   => ['set' => '38;5;166', 'unset' => 39],
                                                'c_167'   => ['set' => '38;5;167', 'unset' => 39],
                                                'c_168'   => ['set' => '38;5;168', 'unset' => 39],
                                                'c_169'   => ['set' => '38;5;169', 'unset' => 39],
                                                'c_170'   => ['set' => '38;5;170', 'unset' => 39],
                                                'c_171'   => ['set' => '38;5;171', 'unset' => 39],
                                                'c_172'   => ['set' => '38;5;172', 'unset' => 39],
                                                'c_173'   => ['set' => '38;5;173', 'unset' => 39],
                                                'c_174'   => ['set' => '38;5;174', 'unset' => 39],
                                                'c_175'   => ['set' => '38;5;175', 'unset' => 39],
                                                'c_176'   => ['set' => '38;5;176', 'unset' => 39],
                                                'c_177'   => ['set' => '38;5;177', 'unset' => 39],
                                                'c_178'   => ['set' => '38;5;178', 'unset' => 39],
                                                'c_179'   => ['set' => '38;5;179', 'unset' => 39],
                                                'c_180'   => ['set' => '38;5;180', 'unset' => 39],
                                                'c_181'   => ['set' => '38;5;181', 'unset' => 39],
                                                'c_182'   => ['set' => '38;5;182', 'unset' => 39],
                                                'c_183'   => ['set' => '38;5;183', 'unset' => 39],
                                                'c_184'   => ['set' => '38;5;184', 'unset' => 39],
                                                'c_185'   => ['set' => '38;5;185', 'unset' => 39],
                                                'c_186'   => ['set' => '38;5;186', 'unset' => 39],
                                                'c_187'   => ['set' => '38;5;187', 'unset' => 39],
                                                'c_188'   => ['set' => '38;5;188', 'unset' => 39],
                                                'c_189'   => ['set' => '38;5;189', 'unset' => 39],
                                                'c_190'   => ['set' => '38;5;190', 'unset' => 39],
                                                'c_191'   => ['set' => '38;5;191', 'unset' => 39],
                                                'c_192'   => ['set' => '38;5;192', 'unset' => 39],
                                                'c_193'   => ['set' => '38;5;193', 'unset' => 39],
                                                'c_194'   => ['set' => '38;5;194', 'unset' => 39],
                                                'c_195'   => ['set' => '38;5;195', 'unset' => 39],
                                                'c_196'   => ['set' => '38;5;196', 'unset' => 39],
                                                'c_197'   => ['set' => '38;5;197', 'unset' => 39],
                                                'c_198'   => ['set' => '38;5;198', 'unset' => 39],
                                                'c_199'   => ['set' => '38;5;199', 'unset' => 39],
                                                'c_200'   => ['set' => '38;5;200', 'unset' => 39],
                                                'c_201'   => ['set' => '38;5;201', 'unset' => 39],
                                                'c_202'   => ['set' => '38;5;202', 'unset' => 39],
                                                'c_203'   => ['set' => '38;5;203', 'unset' => 39],
                                                'c_204'   => ['set' => '38;5;204', 'unset' => 39],
                                                'c_205'   => ['set' => '38;5;205', 'unset' => 39],
                                                'c_206'   => ['set' => '38;5;206', 'unset' => 39],
                                                'c_207'   => ['set' => '38;5;207', 'unset' => 39],
                                                'c_208'   => ['set' => '38;5;208', 'unset' => 39],
                                                'c_209'   => ['set' => '38;5;209', 'unset' => 39],
                                                'c_210'   => ['set' => '38;5;210', 'unset' => 39],
                                                'c_211'   => ['set' => '38;5;211', 'unset' => 39],
                                                'c_212'   => ['set' => '38;5;212', 'unset' => 39],
                                                'c_213'   => ['set' => '38;5;213', 'unset' => 39],
                                                'c_214'   => ['set' => '38;5;214', 'unset' => 39],
                                                'c_215'   => ['set' => '38;5;215', 'unset' => 39],
                                                'c_216'   => ['set' => '38;5;216', 'unset' => 39],
                                                'c_217'   => ['set' => '38;5;217', 'unset' => 39],
                                                'c_218'   => ['set' => '38;5;218', 'unset' => 39],
                                                'c_219'   => ['set' => '38;5;219', 'unset' => 39],
                                                'c_220'   => ['set' => '38;5;220', 'unset' => 39],
                                                'c_221'   => ['set' => '38;5;221', 'unset' => 39],
                                                'c_222'   => ['set' => '38;5;222', 'unset' => 39],
                                                'c_223'   => ['set' => '38;5;223', 'unset' => 39],
                                                'c_224'   => ['set' => '38;5;224', 'unset' => 39],
                                                'c_225'   => ['set' => '38;5;225', 'unset' => 39],
                                                'c_226'   => ['set' => '38;5;226', 'unset' => 39],
                                                'c_227'   => ['set' => '38;5;227', 'unset' => 39],
                                                'c_228'   => ['set' => '38;5;228', 'unset' => 39],
                                                'c_229'   => ['set' => '38;5;229', 'unset' => 39],
                                                'c_230'   => ['set' => '38;5;230', 'unset' => 39],
                                                'c_231'   => ['set' => '38;5;231', 'unset' => 39],
                                                'c_232'   => ['set' => '38;5;232', 'unset' => 39],
                                                'c_233'   => ['set' => '38;5;233', 'unset' => 39],
                                                'c_234'   => ['set' => '38;5;234', 'unset' => 39],
                                                'c_235'   => ['set' => '38;5;235', 'unset' => 39],
                                                'c_236'   => ['set' => '38;5;236', 'unset' => 39],
                                                'c_237'   => ['set' => '38;5;237', 'unset' => 39],
                                                'c_238'   => ['set' => '38;5;238', 'unset' => 39],
                                                'c_239'   => ['set' => '38;5;239', 'unset' => 39],
                                                'c_240'   => ['set' => '38;5;240', 'unset' => 39],
                                                'c_241'   => ['set' => '38;5;241', 'unset' => 39],
                                                'c_242'   => ['set' => '38;5;242', 'unset' => 39],
                                                'c_243'   => ['set' => '38;5;243', 'unset' => 39],
                                                'c_244'   => ['set' => '38;5;244', 'unset' => 39],
                                                'c_245'   => ['set' => '38;5;245', 'unset' => 39],
                                                'c_246'   => ['set' => '38;5;246', 'unset' => 39],
                                                'c_247'   => ['set' => '38;5;247', 'unset' => 39],
                                                'c_248'   => ['set' => '38;5;248', 'unset' => 39],
                                                'c_249'   => ['set' => '38;5;249', 'unset' => 39],
                                                'c_250'   => ['set' => '38;5;250', 'unset' => 39],
                                                'c_251'   => ['set' => '38;5;251', 'unset' => 39],
                                                'c_252'   => ['set' => '38;5;252', 'unset' => 39],
                                                'c_253'   => ['set' => '38;5;253', 'unset' => 39],
                                                'c_254'   => ['set' => '38;5;254', 'unset' => 39],
                                                'c_255'   => ['set' => '38;5;255', 'unset' => 39],
                                            ];

    protected static $backgroundColors  =   [
                                                'black'   => ['set' => 40, 'unset' => 49],
                                                'red'     => ['set' => 41, 'unset' => 49],
                                                'green'   => ['set' => 42, 'unset' => 49],
                                                'yellow'  => ['set' => 43, 'unset' => 49],
                                                'blue'    => ['set' => 44, 'unset' => 49],
                                                'magenta' => ['set' => 45, 'unset' => 49],
                                                'cyan'    => ['set' => 46, 'unset' => 49],
                                                'white'   => ['set' => 47, 'unset' => 49],

                                                'c_0'     => ['set' => '48;5;0', 'unset' => 49],
                                                'c_1'     => ['set' => '48;5;1', 'unset' => 49],
                                                'c_2'     => ['set' => '48;5;2', 'unset' => 49],
                                                'c_3'     => ['set' => '48;5;3', 'unset' => 49],
                                                'c_4'     => ['set' => '48;5;4', 'unset' => 49],
                                                'c_5'     => ['set' => '48;5;5', 'unset' => 49],
                                                'c_6'     => ['set' => '48;5;6', 'unset' => 49],
                                                'c_7'     => ['set' => '48;5;7', 'unset' => 49],
                                                'c_8'     => ['set' => '48;5;8', 'unset' => 49],
                                                'c_9'     => ['set' => '48;5;9', 'unset' => 49],
                                                'c_10'    => ['set' => '48;5;10', 'unset' => 49],
                                                'c_11'    => ['set' => '48;5;11', 'unset' => 49],
                                                'c_12'    => ['set' => '48;5;12', 'unset' => 49],
                                                'c_13'    => ['set' => '48;5;13', 'unset' => 49],
                                                'c_14'    => ['set' => '48;5;14', 'unset' => 49],
                                                'c_15'    => ['set' => '48;5;15', 'unset' => 49],
                                                'c_16'    => ['set' => '48;5;16', 'unset' => 49],
                                                'c_17'    => ['set' => '48;5;17', 'unset' => 49],
                                                'c_18'    => ['set' => '48;5;18', 'unset' => 49],
                                                'c_19'    => ['set' => '48;5;19', 'unset' => 49],
                                                'c_20'    => ['set' => '48;5;20', 'unset' => 49],
                                                'c_21'    => ['set' => '48;5;21', 'unset' => 49],
                                                'c_22'    => ['set' => '48;5;22', 'unset' => 49],
                                                'c_23'    => ['set' => '48;5;23', 'unset' => 49],
                                                'c_24'    => ['set' => '48;5;24', 'unset' => 49],
                                                'c_25'    => ['set' => '48;5;25', 'unset' => 49],
                                                'c_26'    => ['set' => '48;5;26', 'unset' => 49],
                                                'c_27'    => ['set' => '48;5;27', 'unset' => 49],
                                                'c_28'    => ['set' => '48;5;28', 'unset' => 49],
                                                'c_29'    => ['set' => '48;5;29', 'unset' => 49],
                                                'c_30'    => ['set' => '48;5;30', 'unset' => 49],
                                                'c_31'    => ['set' => '48;5;31', 'unset' => 49],
                                                'c_32'    => ['set' => '48;5;32', 'unset' => 49],
                                                'c_33'    => ['set' => '48;5;33', 'unset' => 49],
                                                'c_34'    => ['set' => '48;5;34', 'unset' => 49],
                                                'c_35'    => ['set' => '48;5;35', 'unset' => 49],
                                                'c_36'    => ['set' => '48;5;36', 'unset' => 49],
                                                'c_37'    => ['set' => '48;5;37', 'unset' => 49],
                                                'c_38'    => ['set' => '48;5;38', 'unset' => 49],
                                                'c_39'    => ['set' => '48;5;39', 'unset' => 49],
                                                'c_40'    => ['set' => '48;5;40', 'unset' => 49],
                                                'c_41'    => ['set' => '48;5;41', 'unset' => 49],
                                                'c_42'    => ['set' => '48;5;42', 'unset' => 49],
                                                'c_43'    => ['set' => '48;5;43', 'unset' => 49],
                                                'c_44'    => ['set' => '48;5;44', 'unset' => 49],
                                                'c_45'    => ['set' => '48;5;45', 'unset' => 49],
                                                'c_46'    => ['set' => '48;5;46', 'unset' => 49],
                                                'c_47'    => ['set' => '48;5;47', 'unset' => 49],
                                                'c_48'    => ['set' => '48;5;48', 'unset' => 49],
                                                'c_49'    => ['set' => '48;5;49', 'unset' => 49],
                                                'c_50'    => ['set' => '48;5;50', 'unset' => 49],
                                                'c_51'    => ['set' => '48;5;51', 'unset' => 49],
                                                'c_52'    => ['set' => '48;5;52', 'unset' => 49],
                                                'c_53'    => ['set' => '48;5;53', 'unset' => 49],
                                                'c_54'    => ['set' => '48;5;54', 'unset' => 49],
                                                'c_55'    => ['set' => '48;5;55', 'unset' => 49],
                                                'c_56'    => ['set' => '48;5;56', 'unset' => 49],
                                                'c_57'    => ['set' => '48;5;57', 'unset' => 49],
                                                'c_58'    => ['set' => '48;5;58', 'unset' => 49],
                                                'c_59'    => ['set' => '48;5;59', 'unset' => 49],
                                                'c_60'    => ['set' => '48;5;60', 'unset' => 49],
                                                'c_61'    => ['set' => '48;5;61', 'unset' => 49],
                                                'c_62'    => ['set' => '48;5;62', 'unset' => 49],
                                                'c_63'    => ['set' => '48;5;63', 'unset' => 49],
                                                'c_64'    => ['set' => '48;5;64', 'unset' => 49],
                                                'c_65'    => ['set' => '48;5;65', 'unset' => 49],
                                                'c_66'    => ['set' => '48;5;66', 'unset' => 49],
                                                'c_67'    => ['set' => '48;5;67', 'unset' => 49],
                                                'c_68'    => ['set' => '48;5;68', 'unset' => 49],
                                                'c_69'    => ['set' => '48;5;69', 'unset' => 49],
                                                'c_70'    => ['set' => '48;5;70', 'unset' => 49],
                                                'c_71'    => ['set' => '48;5;71', 'unset' => 49],
                                                'c_72'    => ['set' => '48;5;72', 'unset' => 49],
                                                'c_73'    => ['set' => '48;5;73', 'unset' => 49],
                                                'c_74'    => ['set' => '48;5;74', 'unset' => 49],
                                                'c_75'    => ['set' => '48;5;75', 'unset' => 49],
                                                'c_76'    => ['set' => '48;5;76', 'unset' => 49],
                                                'c_77'    => ['set' => '48;5;77', 'unset' => 49],
                                                'c_78'    => ['set' => '48;5;78', 'unset' => 49],
                                                'c_79'    => ['set' => '48;5;79', 'unset' => 49],
                                                'c_80'    => ['set' => '48;5;80', 'unset' => 49],
                                                'c_81'    => ['set' => '48;5;81', 'unset' => 49],
                                                'c_82'    => ['set' => '48;5;82', 'unset' => 49],
                                                'c_83'    => ['set' => '48;5;83', 'unset' => 49],
                                                'c_84'    => ['set' => '48;5;84', 'unset' => 49],
                                                'c_85'    => ['set' => '48;5;85', 'unset' => 49],
                                                'c_86'    => ['set' => '48;5;86', 'unset' => 49],
                                                'c_87'    => ['set' => '48;5;87', 'unset' => 49],
                                                'c_88'    => ['set' => '48;5;88', 'unset' => 49],
                                                'c_89'    => ['set' => '48;5;89', 'unset' => 49],
                                                'c_90'    => ['set' => '48;5;90', 'unset' => 49],
                                                'c_91'    => ['set' => '48;5;91', 'unset' => 49],
                                                'c_92'    => ['set' => '48;5;92', 'unset' => 49],
                                                'c_93'    => ['set' => '48;5;93', 'unset' => 49],
                                                'c_94'    => ['set' => '48;5;94', 'unset' => 49],
                                                'c_95'    => ['set' => '48;5;95', 'unset' => 49],
                                                'c_96'    => ['set' => '48;5;96', 'unset' => 49],
                                                'c_97'    => ['set' => '48;5;97', 'unset' => 49],
                                                'c_98'    => ['set' => '48;5;98', 'unset' => 49],
                                                'c_99'    => ['set' => '48;5;99', 'unset' => 49],
                                                'c_100'   => ['set' => '48;5;100', 'unset' => 49],
                                                'c_101'   => ['set' => '48;5;101', 'unset' => 49],
                                                'c_102'   => ['set' => '48;5;102', 'unset' => 49],
                                                'c_103'   => ['set' => '48;5;103', 'unset' => 49],
                                                'c_104'   => ['set' => '48;5;104', 'unset' => 49],
                                                'c_105'   => ['set' => '48;5;105', 'unset' => 49],
                                                'c_106'   => ['set' => '48;5;106', 'unset' => 49],
                                                'c_107'   => ['set' => '48;5;107', 'unset' => 49],
                                                'c_108'   => ['set' => '48;5;108', 'unset' => 49],
                                                'c_109'   => ['set' => '48;5;109', 'unset' => 49],
                                                'c_110'   => ['set' => '48;5;110', 'unset' => 49],
                                                'c_111'   => ['set' => '48;5;111', 'unset' => 49],
                                                'c_112'   => ['set' => '48;5;112', 'unset' => 49],
                                                'c_113'   => ['set' => '48;5;113', 'unset' => 49],
                                                'c_114'   => ['set' => '48;5;114', 'unset' => 49],
                                                'c_115'   => ['set' => '48;5;115', 'unset' => 49],
                                                'c_116'   => ['set' => '48;5;116', 'unset' => 49],
                                                'c_117'   => ['set' => '48;5;117', 'unset' => 49],
                                                'c_118'   => ['set' => '48;5;118', 'unset' => 49],
                                                'c_119'   => ['set' => '48;5;119', 'unset' => 49],
                                                'c_120'   => ['set' => '48;5;120', 'unset' => 49],
                                                'c_121'   => ['set' => '48;5;121', 'unset' => 49],
                                                'c_122'   => ['set' => '48;5;122', 'unset' => 49],
                                                'c_123'   => ['set' => '48;5;123', 'unset' => 49],
                                                'c_124'   => ['set' => '48;5;124', 'unset' => 49],
                                                'c_125'   => ['set' => '48;5;125', 'unset' => 49],
                                                'c_126'   => ['set' => '48;5;126', 'unset' => 49],
                                                'c_127'   => ['set' => '48;5;127', 'unset' => 49],
                                                'c_128'   => ['set' => '48;5;128', 'unset' => 49],
                                                'c_129'   => ['set' => '48;5;129', 'unset' => 49],
                                                'c_130'   => ['set' => '48;5;130', 'unset' => 49],
                                                'c_131'   => ['set' => '48;5;131', 'unset' => 49],
                                                'c_132'   => ['set' => '48;5;132', 'unset' => 49],
                                                'c_133'   => ['set' => '48;5;133', 'unset' => 49],
                                                'c_134'   => ['set' => '48;5;134', 'unset' => 49],
                                                'c_135'   => ['set' => '48;5;135', 'unset' => 49],
                                                'c_136'   => ['set' => '48;5;136', 'unset' => 49],
                                                'c_137'   => ['set' => '48;5;137', 'unset' => 49],
                                                'c_138'   => ['set' => '48;5;138', 'unset' => 49],
                                                'c_139'   => ['set' => '48;5;139', 'unset' => 49],
                                                'c_140'   => ['set' => '48;5;140', 'unset' => 49],
                                                'c_141'   => ['set' => '48;5;141', 'unset' => 49],
                                                'c_142'   => ['set' => '48;5;142', 'unset' => 49],
                                                'c_143'   => ['set' => '48;5;143', 'unset' => 49],
                                                'c_144'   => ['set' => '48;5;144', 'unset' => 49],
                                                'c_145'   => ['set' => '48;5;145', 'unset' => 49],
                                                'c_146'   => ['set' => '48;5;146', 'unset' => 49],
                                                'c_147'   => ['set' => '48;5;147', 'unset' => 49],
                                                'c_148'   => ['set' => '48;5;148', 'unset' => 49],
                                                'c_149'   => ['set' => '48;5;149', 'unset' => 49],
                                                'c_150'   => ['set' => '48;5;150', 'unset' => 49],
                                                'c_151'   => ['set' => '48;5;151', 'unset' => 49],
                                                'c_152'   => ['set' => '48;5;152', 'unset' => 49],
                                                'c_153'   => ['set' => '48;5;153', 'unset' => 49],
                                                'c_154'   => ['set' => '48;5;154', 'unset' => 49],
                                                'c_155'   => ['set' => '48;5;155', 'unset' => 49],
                                                'c_156'   => ['set' => '48;5;156', 'unset' => 49],
                                                'c_157'   => ['set' => '48;5;157', 'unset' => 49],
                                                'c_158'   => ['set' => '48;5;158', 'unset' => 49],
                                                'c_159'   => ['set' => '48;5;159', 'unset' => 49],
                                                'c_160'   => ['set' => '48;5;160', 'unset' => 49],
                                                'c_161'   => ['set' => '48;5;161', 'unset' => 49],
                                                'c_162'   => ['set' => '48;5;162', 'unset' => 49],
                                                'c_163'   => ['set' => '48;5;163', 'unset' => 49],
                                                'c_164'   => ['set' => '48;5;164', 'unset' => 49],
                                                'c_165'   => ['set' => '48;5;165', 'unset' => 49],
                                                'c_166'   => ['set' => '48;5;166', 'unset' => 49],
                                                'c_167'   => ['set' => '48;5;167', 'unset' => 49],
                                                'c_168'   => ['set' => '48;5;168', 'unset' => 49],
                                                'c_169'   => ['set' => '48;5;169', 'unset' => 49],
                                                'c_170'   => ['set' => '48;5;170', 'unset' => 49],
                                                'c_171'   => ['set' => '48;5;171', 'unset' => 49],
                                                'c_172'   => ['set' => '48;5;172', 'unset' => 49],
                                                'c_173'   => ['set' => '48;5;173', 'unset' => 49],
                                                'c_174'   => ['set' => '48;5;174', 'unset' => 49],
                                                'c_175'   => ['set' => '48;5;175', 'unset' => 49],
                                                'c_176'   => ['set' => '48;5;176', 'unset' => 49],
                                                'c_177'   => ['set' => '48;5;177', 'unset' => 49],
                                                'c_178'   => ['set' => '48;5;178', 'unset' => 49],
                                                'c_179'   => ['set' => '48;5;179', 'unset' => 49],
                                                'c_180'   => ['set' => '48;5;180', 'unset' => 49],
                                                'c_181'   => ['set' => '48;5;181', 'unset' => 49],
                                                'c_182'   => ['set' => '48;5;182', 'unset' => 49],
                                                'c_183'   => ['set' => '48;5;183', 'unset' => 49],
                                                'c_184'   => ['set' => '48;5;184', 'unset' => 49],
                                                'c_185'   => ['set' => '48;5;185', 'unset' => 49],
                                                'c_186'   => ['set' => '48;5;186', 'unset' => 49],
                                                'c_187'   => ['set' => '48;5;187', 'unset' => 49],
                                                'c_188'   => ['set' => '48;5;188', 'unset' => 49],
                                                'c_189'   => ['set' => '48;5;189', 'unset' => 49],
                                                'c_190'   => ['set' => '48;5;190', 'unset' => 49],
                                                'c_191'   => ['set' => '48;5;191', 'unset' => 49],
                                                'c_192'   => ['set' => '48;5;192', 'unset' => 49],
                                                'c_193'   => ['set' => '48;5;193', 'unset' => 49],
                                                'c_194'   => ['set' => '48;5;194', 'unset' => 49],
                                                'c_195'   => ['set' => '48;5;195', 'unset' => 49],
                                                'c_196'   => ['set' => '48;5;196', 'unset' => 49],
                                                'c_197'   => ['set' => '48;5;197', 'unset' => 49],
                                                'c_198'   => ['set' => '48;5;198', 'unset' => 49],
                                                'c_199'   => ['set' => '48;5;199', 'unset' => 49],
                                                'c_200'   => ['set' => '48;5;200', 'unset' => 49],
                                                'c_201'   => ['set' => '48;5;201', 'unset' => 49],
                                                'c_202'   => ['set' => '48;5;202', 'unset' => 49],
                                                'c_203'   => ['set' => '48;5;203', 'unset' => 49],
                                                'c_204'   => ['set' => '48;5;204', 'unset' => 49],
                                                'c_205'   => ['set' => '48;5;205', 'unset' => 49],
                                                'c_206'   => ['set' => '48;5;206', 'unset' => 49],
                                                'c_207'   => ['set' => '48;5;207', 'unset' => 49],
                                                'c_208'   => ['set' => '48;5;208', 'unset' => 49],
                                                'c_209'   => ['set' => '48;5;209', 'unset' => 49],
                                                'c_210'   => ['set' => '48;5;210', 'unset' => 49],
                                                'c_211'   => ['set' => '48;5;211', 'unset' => 49],
                                                'c_212'   => ['set' => '48;5;212', 'unset' => 49],
                                                'c_213'   => ['set' => '48;5;213', 'unset' => 49],
                                                'c_214'   => ['set' => '48;5;214', 'unset' => 49],
                                                'c_215'   => ['set' => '48;5;215', 'unset' => 49],
                                                'c_216'   => ['set' => '48;5;216', 'unset' => 49],
                                                'c_217'   => ['set' => '48;5;217', 'unset' => 49],
                                                'c_218'   => ['set' => '48;5;218', 'unset' => 49],
                                                'c_219'   => ['set' => '48;5;219', 'unset' => 49],
                                                'c_220'   => ['set' => '48;5;220', 'unset' => 49],
                                                'c_221'   => ['set' => '48;5;221', 'unset' => 49],
                                                'c_222'   => ['set' => '48;5;222', 'unset' => 49],
                                                'c_223'   => ['set' => '48;5;223', 'unset' => 49],
                                                'c_224'   => ['set' => '48;5;224', 'unset' => 49],
                                                'c_225'   => ['set' => '48;5;225', 'unset' => 49],
                                                'c_226'   => ['set' => '48;5;226', 'unset' => 49],
                                                'c_227'   => ['set' => '48;5;227', 'unset' => 49],
                                                'c_228'   => ['set' => '48;5;228', 'unset' => 49],
                                                'c_229'   => ['set' => '48;5;229', 'unset' => 49],
                                                'c_230'   => ['set' => '48;5;230', 'unset' => 49],
                                                'c_231'   => ['set' => '48;5;231', 'unset' => 49],
                                                'c_232'   => ['set' => '48;5;232', 'unset' => 49],
                                                'c_233'   => ['set' => '48;5;233', 'unset' => 49],
                                                'c_234'   => ['set' => '48;5;234', 'unset' => 49],
                                                'c_235'   => ['set' => '48;5;235', 'unset' => 49],
                                                'c_236'   => ['set' => '48;5;236', 'unset' => 49],
                                                'c_237'   => ['set' => '48;5;237', 'unset' => 49],
                                                'c_238'   => ['set' => '48;5;238', 'unset' => 49],
                                                'c_239'   => ['set' => '48;5;239', 'unset' => 49],
                                                'c_240'   => ['set' => '48;5;240', 'unset' => 49],
                                                'c_241'   => ['set' => '48;5;241', 'unset' => 49],
                                                'c_242'   => ['set' => '48;5;242', 'unset' => 49],
                                                'c_243'   => ['set' => '48;5;243', 'unset' => 49],
                                                'c_244'   => ['set' => '48;5;244', 'unset' => 49],
                                                'c_245'   => ['set' => '48;5;245', 'unset' => 49],
                                                'c_246'   => ['set' => '48;5;246', 'unset' => 49],
                                                'c_247'   => ['set' => '48;5;247', 'unset' => 49],
                                                'c_248'   => ['set' => '48;5;248', 'unset' => 49],
                                                'c_249'   => ['set' => '48;5;249', 'unset' => 49],
                                                'c_250'   => ['set' => '48;5;250', 'unset' => 49],
                                                'c_251'   => ['set' => '48;5;251', 'unset' => 49],
                                                'c_252'   => ['set' => '48;5;252', 'unset' => 49],
                                                'c_253'   => ['set' => '48;5;253', 'unset' => 49],
                                                'c_254'   => ['set' => '48;5;254', 'unset' => 49],
                                                'c_255'   => ['set' => '48;5;255', 'unset' => 49],
                                            ];

    protected static $availableOptions =    [
                                                'bold'       => ['set' => 1, 'unset' => 22],
                                                'underscore' => ['set' => 4, 'unset' => 24],
                                                'blink'      => ['set' => 5, 'unset' => 25],
                                                'reverse'    => ['set' => 7, 'unset' => 27],
                                                'conceal'    => ['set' => 8, 'unset' => 28],
                                            ];

    protected static $error    = ['fg' => 'white', 'bg' => 'red'];
    protected static $info     = ['fg' => 'green'];
    protected static $comment  = ['fg' => 'yellow'];
    protected static $question = ['fg' => 'black', 'bg' => 'cyan'];

    protected static function createStyleFromString($string)
    {
        $style = [];

        if (in_array($string, ['error', 'info', 'comment', 'question']))
        {
            if (!empty($helperStyle = static::${$string}))
            {
                if (isset($helperStyle['fg']))
                {
                    $style['fg'] = static::$foregroundColors[$helperStyle['fg']];
                }

                if (isset($helperStyle['bg']))
                {
                    $style['bg'] = static::$backgroundColors[$helperStyle['bg']];
                }
            }

            return $style;
        }

        if (!preg_match_all('/([^=]+)=([^;]+)(;|$)/', strtolower($string), $matches, PREG_SET_ORDER))
        {
            return FALSE;
        }

        foreach ($matches as $match)
        {
            array_shift($match);

            if ('fg' == $match[0])
            {
                if (isset(static::$foregroundColors[$match[1]]))
                {
                    $style['fg'] = static::$foregroundColors[$match[1]];
                }
            }
            elseif ('bg' == $match[0])
            {
                if (isset(static::$backgroundColors[$match[1]]))
                {
                    $style['bg'] = static::$backgroundColors[$match[1]];
                }
            }
            else
            {
                #TODO - add options
            }
        }

        return $style;
    }

    private function applyCurrentStyle($text, $style = [])
    {
        $setCodes   = [];
        $unsetCodes = [];

        $fg      = isset($style['fg']) ? $style['fg'] : NULL;
        $bg      = isset($style['bg']) ? $style['bg'] : NULL;
        $options = isset($style['options']) ? $style['options'] : [];

        if (null !== $fg)
        {
            $setCodes[]   = $fg['set'];
            $unsetCodes[] = $fg['unset'];
        }

        if (null !== $bg)
        {
            $setCodes[]   = $bg['set'];
            $unsetCodes[] = $bg['unset'];
        }

        if (count($options))
        {
            foreach ($options as $option)
            {
                $setCodes[]   = $option['set'];
                $unsetCodes[] = $option['unset'];
            }
        }

        if (0 === count($setCodes))
        {
            return $text;
        }

        return sprintf("\033[%sm%s\033[%sm", implode(';', $setCodes), $text, implode(';', $unsetCodes));
    }

    public function format($message)
    {
        if (empty($message))
        {
            echo "";
        }

        $offset   = 0;
        $output   = '';
        $tagRegex = '[a-z][a-z0-9_=;-]*';

        preg_match_all("#<(($tagRegex) | /($tagRegex)?)>#ix", $message, $matches, PREG_OFFSET_CAPTURE);

        $style = [];

        foreach ($matches[0] as $i => $match)
        {
            $pos = $match[1];
            $text = $match[0];

            if (0 != $pos && '\\' == $message[$pos - 1])
            {
                continue;
            }

            // add the text up to the next tag
            $output .= static::applyCurrentStyle(substr($message, $offset, $pos - $offset), $style);
            $offset  = $pos + strlen($text);

            // opening tag?
            if ($open = '/' != $text[1])
            {
                $tag = $matches[1][$i][0];
            }
            else
            {
                $tag = isset($matches[3][$i][0]) ? $matches[3][$i][0] : '';
            }

            if (!$open && !$tag)
            {
                // </>
                #static::styleStack->pop();
                $style = [];
            }
            elseif (false === $style = static::createStyleFromString(strtolower($tag)))
            {
                $output .= static::applyCurrentStyle($text, $style);
            }
            elseif ($open)
            {
                #static::styleStack->push($style);
            }
            else
            {
                #static::styleStack->pop($style);
            }
        }

        $output .= static::applyCurrentStyle(substr($message, $offset), $style);

        echo str_replace('\\<', '<', $output);
    }
}

array_shift($argv);
cliColorizer::format(html_entity_decode(str_replace(" ", "&nbsp;", (string) implode(' ', $argv))));

